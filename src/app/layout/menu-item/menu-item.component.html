<mat-list>
    @for(item of menu;track item.title){
    <ng-container>
      <!-- If the item doesn't have children show it as list item-->
       @if(item.subMenu === undefined){
        <ng-container >
            @if(item.title){
            <mat-list-item
            [routerLink]="item.link"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{ exact: true }"
            >
            <mat-panel-title class="d-flex align-items-center">
                <mat-icon [style.color]="item.color" mat-list-icon>
                    {{ item.icon }}
                </mat-icon>
                <span mat-line class="list-item">{{ item.title }}</span>
            </mat-panel-title>
            </mat-list-item>
            }
        </ng-container>
        }

      <!-- If the item has subMenu show it as accordion-->
      @if(item.subMenu && item.subMenu.length > 0) {
        <ng-container>
            <mat-expansion-panel [expanded]="item.expanded">
            <mat-expansion-panel-header>
                <mat-panel-title class="d-flex align-items-center">
                <mat-icon [style.color]="item.color" mat-list-icon>
                    {{ item.icon }}
                </mat-icon>
                <span mat-line class="list-item">{{ item.title }}</span>
                </mat-panel-title>
            </mat-expansion-panel-header>
            <app-menu-item [menu]="item.subMenu" ></app-menu-item>
            </mat-expansion-panel>
        </ng-container>
     }
    </ng-container>
    }
  </mat-list>